
/* jshint esversion: 6 */

var HEATMAPS;

TIMES = [
    '01:00', '02:00', '03:00', '04:00', '05:00', '06:00', '07:00',
    '08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00',
    '15:00', '16:00', '17:00', '18:00', '19:00', '20:00', '21:00',
    '22:00', '23:00', '24:00'
];

ZONES = {
    NW: {
        topLeft:     [35, -119],
        bottomRight: [22.5, -104]
    },
    NE:  {
        topLeft:     [32, -104],
        bottomRight: [22.5, -95]
    },
    C:   {
        topLeft:     [22.5, -106.5],
        bottomRight: [19, -95]
    },
    SW: {
        topLeft:     [19, -105.5],
        bottomRight: [14.5, -91]
    },
    SE:  {
        topLeft:     [22, -91],
        bottomRight: [15, -86]
    }
};

var HEATMAPS_CRIMEN = {
    'Lunes': {
        '01:00': {
            coords: [
                [20.11106791, -95.84941333],
                [20.11106791, -94.84941333]
            ],
            active: false
        },
        '02:00': { coords: [[16.11106791, -95.84941333]],  active: false },
        '03:00': { coords: [[16.6816123, -101.35755553]],  active: false },
        '04:00': { coords: [[17.98524071, -98.6596144]],   active: false },
        '05:00': { coords: [[16.16692816, -97.60328777]],  active: false },
        '06:00': { coords: [[16.16393956, -98.35351405]],  active: false },
        '07:00': { coords: [[19.75565027, -95.3710512]],   active: false },
        '08:00': { coords: [[20.50116752, -100.44472832]], active: false },
        '09:00': { coords: [[20.76702782, -98.30227976]],  active: false },
        '10:00': { coords: [[20.06540032, -101.05188821]], active: false },
        '11:00': { coords: [[17.69398571, -101.23074249]], active: false },
        '12:00': { coords: [[28.04040261, -95.4937895]],   active: false },
        '13:00': {
            coords: [
                [21.11106791, -99.84941333],
                [20.11106791, -98.84941333]
            ],
            active: false
        },
        '14:00': { coords: [[30.11106791, -99.84941333]],  active: false },
        '15:00': { coords: [[19.6816123, -102.35755553]],  active: false },
        '16:00': { coords: [[16.98524071, -99.6596144]],   active: false },
        '17:00': { coords: [[19.16692818, -98.60328777]],  active: false },
        '18:00': { coords: [[19.18393956, -99.35351405]],  active: false },
        '19:00': { coords: [[20.75565027, -99.3710512]],   active: false },
        '20:00': { coords: [[21.50116752, -101.44472832]], active: false },
        '21:00': { coords: [[30.76702782, -99.30227976]],  active: false },
        '22:00': { coords: [[21.06540032, -102.05188821]], active: false },
        '23:00': { coords: [[16.69398571, -102.23074249]], active: false },
        '24:00': { coords: [[22.04040261, -99.4937895]],   active: false }
    },
    'Martes': {
        '01:00': { coords: [[22.11106791, -98.84941333]],  active: false },
        '02:00': { coords: [[18.11106791, -98.84941333]],  active: false },
        '03:00': { coords: [[18.6816123, -101.35755553]],  active: false },
        '04:00': { coords: [[17.98524071, -95.6596144]],   active: false },
        '05:00': { coords: [[18.16692818, -97.60328777]],  active: false },
        '06:00': { coords: [[18.18393956, -98.35351405]],  active: false },
        '07:00': { coords: [[19.75565027, -98.3710512]],   active: false },
        '08:00': { coords: [[22.50116752, -100.44472832]], active: false },
        '09:00': { coords: [[22.76702782, -98.30227976]],  active: false },
        '10:00': { coords: [[22.06540032, -101.05188821]], active: false },
        '11:00': { coords: [[17.69398571, -101.23074249]], active: false },
        '12:00': { coords: [[28.04040261, -98.4937895]],   active: false },
        '13:00': { coords: [[21.11106791, -99.84941333]],  active: false },
        '14:00': { coords: [[30.11106791, -99.84941333]],  active: false },
        '15:00': { coords: [[19.6816123, -102.35755553]],  active: false },
        '16:00': { coords: [[18.98524071, -99.6596144]],   active: false },
        '17:00': { coords: [[19.16692818, -95.60328777]],  active: false },
        '18:00': { coords: [[19.18393956, -99.35351405]],  active: false },
        '19:00': { coords: [[22.75565027, -99.3710512]],   active: false },
        '20:00': { coords: [[21.50116752, -101.44472832]], active: false },
        '21:00': { coords: [[22.76702782, -99.30227976]],  active: false },
        '22:00': { coords: [[21.06540032, -102.05188821]], active: false },
        '23:00': { coords: [[18.69398571, -102.23074249]], active: false },
        '24:00': { coords: [[22.04040261, -99.4937895]],   active: false }
    },
    'Miércoles': {
        '01:00': { coords: [[23.11106791, -98.84941333]],  active: false },
        '02:00': { coords: [[18.11106791, -95.84941333]],  active: false },
        '03:00': { coords: [[18.6816123, -101.35755553]],  active: false },
        '04:00': { coords: [[17.98524071, -98.6596144]],   active: false },
        '05:00': { coords: [[18.16692818, -97.60328777]],  active: false },
        '06:00': { coords: [[18.18393956, -98.35351405]],  active: false },
        '07:00': { coords: [[19.75565027, -95.3710512]],   active: false },
        '08:00': { coords: [[23.50116752, -100.44472832]], active: false },
        '09:00': { coords: [[23.76702782, -98.30227976]],  active: false },
        '10:00': { coords: [[23.06540032, -101.05188821]], active: false },
        '11:00': { coords: [[17.69398571, -101.23074249]], active: false },
        '12:00': { coords: [[28.04040261, -98.4937895]],   active: false },
        '13:00': { coords: [[21.11106791, -99.84941333]],  active: false },
        '14:00': { coords: [[22.11106791, -99.84941333]],  active: false },
        '15:00': { coords: [[19.6816123, -102.35755553]],  active: false },
        '16:00': { coords: [[18.98524071, -99.6596144]],   active: false },
        '17:00': { coords: [[19.16692818, -95.60328777]],  active: false },
        '18:00': { coords: [[19.18393956, -99.35351405]],  active: false },
        '19:00': { coords: [[23.75565027, -99.3710512]],   active: false },
        '20:00': { coords: [[21.50116752, -101.44472832]], active: false },
        '21:00': { coords: [[22.76702782, -99.30227976]],  active: false },
        '22:00': { coords: [[21.06540032, -102.05188821]], active: false },
        '23:00': { coords: [[18.69398571, -102.23074249]], active: false },
        '24:00': { coords: [[22.04040261, -99.4937895]],   active: false }
    },
    'Jueves': {
        '01:00': { coords: [[18.11106791, -98.84941333]],  active: false },
        '02:00': { coords: [[18.11106791, -98.84941333]],  active: false },
        '03:00': { coords: [[18.6816123, -101.35755553]],  active: false },
        '04:00': { coords: [[17.98524071, -98.6596144]],   active: false },
        '05:00': { coords: [[18.16692818, -97.60328777]],  active: false },
        '06:00': { coords: [[18.18393956, -98.35351405]],  active: false },
        '07:00': { coords: [[19.75565027, -98.3710512]],   active: false },
        '08:00': { coords: [[18.50116752, -100.44472832]], active: false },
        '09:00': { coords: [[18.76702782, -95.30227976]],  active: false },
        '10:00': { coords: [[18.06540032, -101.05188821]], active: false },
        '11:00': { coords: [[17.69398571, -101.23074249]], active: false },
        '12:00': { coords: [[21.04040261, -98.4937895]],   active: false },
        '13:00': { coords: [[21.11106791, -99.84941333]],  active: false },
        '14:00': { coords: [[22.11106791, -99.84941333]],  active: false },
        '15:00': { coords: [[19.6816123, -102.35755553]],  active: false },
        '16:00': { coords: [[18.98524071, -99.6596144]],   active: false },
        '17:00': { coords: [[19.16692818, -98.60328777]],  active: false },
        '18:00': { coords: [[19.18393956, -99.35351405]],  active: false },
        '19:00': { coords: [[20.75565027, -99.3710512]],   active: false },
        '20:00': { coords: [[21.50116752, -101.44472832]], active: false },
        '21:00': { coords: [[22.76702782, -99.30227976]],  active: false },
        '22:00': { coords: [[21.06540032, -102.05188821]], active: false },
        '23:00': { coords: [[18.69398571, -102.23074249]], active: false },
        '24:00': { coords: [[22.04040261, -99.4937895]],   active: false }
    },
    'Viernes': {
        '01:00': { coords: [[20.11106791, -95.84941333]],  active: false },
        '02:00': { coords: [[18.11106791, -98.84941333]],  active: false },
        '03:00': { coords: [[18.6816123, -101.35755553]],  active: false },
        '04:00': { coords: [[17.98524071, -98.6596144]],   active: false },
        '05:00': { coords: [[18.16692818, -97.60328777]],  active: false },
        '06:00': { coords: [[18.18393956, -95.35351405]],  active: false },
        '07:00': { coords: [[19.75565027, -98.3710512]],   active: false },
        '08:00': { coords: [[20.50116752, -100.44472832]], active: false },
        '09:00': { coords: [[20.76702782, -95.30227976]],  active: false },
        '10:00': { coords: [[20.06540032, -101.05188821]], active: false },
        '11:00': { coords: [[17.69398571, -101.23074249]], active: false },
        '12:00': { coords: [[21.04040261, -98.4937895]],   active: false },
        '13:00': { coords: [[21.11106791, -99.84941333]],  active: false },
        '14:00': { coords: [[30.11106791, -99.84941333]],  active: false },
        '15:00': { coords: [[19.6816123, -102.35755553]],  active: false },
        '16:00': { coords: [[18.98524071, -99.6596144]],   active: false },
        '17:00': { coords: [[19.16692818, -98.60328777]],  active: false },
        '18:00': { coords: [[19.18393956, -99.35351405]],  active: false },
        '19:00': { coords: [[20.75565027, -99.3710512]],   active: false },
        '20:00': { coords: [[21.50116752, -101.44472832]], active: false },
        '21:00': { coords: [[22.76702782, -99.30227976]],  active: false },
        '22:00': { coords: [[21.06540032, -102.05188821]], active: false },
        '23:00': { coords: [[18.69398571, -102.23074249]], active: false },
        '24:00': { coords: [[30.04040261, -99.4937895]],   active: false }
    },
    'Sábado': {
        '01:00': { coords: [[20.11106791, -95.84941333]],  active: false },
        '02:00': { coords: [[18.11106791, -98.84941333]],  active: false },
        '03:00': { coords: [[18.6816123, -101.35755553]],  active: false },
        '04:00': { coords: [[17.98524071, -98.6596144]],   active: false },
        '05:00': { coords: [[18.16692818, -97.60328777]],  active: false },
        '06:00': { coords: [[18.18393956, -98.35351405]],  active: false },
        '07:00': { coords: [[19.75565027, -98.3710512]],   active: false },
        '08:00': { coords: [[20.50116752, -100.44472832]], active: false },
        '09:00': { coords: [[20.76702782, -98.30227976]],  active: false },
        '10:00': { coords: [[20.06540032, -101.05188821]], active: false },
        '11:00': { coords: [[17.69398571, -101.23074249]], active: false },
        '12:00': { coords: [[21.04040261, -98.4937895]],   active: false },
        '13:00': { coords: [[21.11106791, -99.84941333]],  active: false },
        '14:00': { coords: [[22.11106791, -99.84941333]],  active: false },
        '15:00': { coords: [[19.6816123, -102.35755553]],  active: false },
        '16:00': { coords: [[18.98524071, -99.6596144]],   active: false },
        '17:00': { coords: [[19.16692818, -98.60328777]],  active: false },
        '18:00': { coords: [[19.18393956, -99.35351405]],  active: false },
        '19:00': { coords: [[20.75565027, -99.3710512]],   active: false },
        '20:00': { coords: [[21.50116752, -101.44472832]], active: false },
        '21:00': { coords: [[30.76702782, -99.30227976]],  active: false },
        '22:00': { coords: [[21.06540032, -102.05188821]], active: false },
        '23:00': { coords: [[18.69398571, -102.23074249]], active: false },
        '24:00': { coords: [[22.04040261, -99.4937895]],   active: false }
    },
    'Domingo': {
        '01:00': { coords: [[20.11106791, -98.84941333]],  active: false },
        '02:00': { coords: [[18.11106791, -98.84941333]],  active: false },
        '03:00': { coords: [[18.6816123, -101.35755553]],  active: false },
        '04:00': { coords: [[17.98524071, -98.6596144]],   active: false },
        '05:00': { coords: [[18.16692818, -97.60328777]],  active: false },
        '06:00': { coords: [[18.18393956, -98.35351405]],  active: false },
        '07:00': { coords: [[19.75565027, -95.3710512]],   active: false },
        '08:00': { coords: [[20.50116752, -100.44472832]], active: false },
        '09:00': { coords: [[20.76702782, -98.30227976]],  active: false },
        '10:00': { coords: [[20.06540032, -101.05188821]], active: false },
        '11:00': { coords: [[17.69398571, -101.23074249]], active: false },
        '12:00': { coords: [[21.04040261, -98.4937895]],   active: false },
        '13:00': { coords: [[21.11106791, -99.84941333]],  active: false },
        '14:00': { coords: [[22.11106791, -99.84941333]],  active: false },
        '15:00': { coords: [[19.6816123, -102.35755553]],  active: false },
        '16:00': { coords: [[18.98524071, -99.6596144]],   active: false },
        '17:00': { coords: [[19.16692818, -98.60328777]],  active: false },
        '18:00': { coords: [[19.18393956, -99.35351405]],  active: false },
        '19:00': { coords: [[20.75565027, -99.3710512]],   active: false },
        '20:00': { coords: [[21.50116752, -101.44472832]], active: false },
        '21:00': { coords: [[30.72339782, -99.30227976]],  active: false },
        '22:00': { coords: [[21.06540032, -102.05188821]], active: false },
        '23:00': { coords: [[18.69398571, -102.23074249]], active: false },
        '24:00': { coords: [[22.04040261, -99.4937895]],   active: false }
    }
};

var HEATMAPS_OPERACION = {
    'Lunes':{
        '01:00': {
            active: false,
            coords: [[19.827116, -98.949481],
                     [19.353900, -98.989572],
                     [19.328774, -99.316528],
                     [19.212871, -99.154000],
                     [19.312168, -98.897250],
                     [19.284219, -99.501616],
                     [19.288182, -99.620752],
                     [19.045175, -98.935533],
                     [19.718043, -98.960155]]
        },
        '02:00': {
            active: false,
            coords: [[18.960593, -99.246178],
                     [19.383145, -99.251605],
                     [19.280368, -99.502211],
                     [18.981718, -99.228770],
                     [19.351218, -98.665568],
                     [19.355908, -99.278160],
                     [19.026940, -99.209632],
                     [18.960593, -99.246178],
                     [19.312168, -98.897250],
                     [19.349331, -98.671068],
                     [19.326957, -98.962494],
                     [19.315225, -98.948595],
                     [19.875006, -99.336647],
                     [19.240534, -98.909132]]
        },
        '03:00': {
            active: false,
            coords: [[19.076136, -98.321470],
                     [19.288182, -99.620752],
                     [19.287773, -99.621637],
                     [19.326957, -98.962494],
                     [19.293913, -98.879308],
                     [19.241098, -98.385680],
                     [19.208939, -99.156051],
                     [19.311358, -98.902086],
                     [19.282393, -99.479651],
                     [19.874227, -98.939686]]
        },
        '04:00': {
            active: false,
            coords: [[20.097715, -98.765964],
                     [19.364795, -99.276354],
                     [19.364793, -99.276356],
                     [19.272074, -99.164133],
                     [19.874227, -98.939686],
                     [19.293915, -98.879315],
                     [20.097715, -98.765964],
                     [19.285975, -99.535484]]
        },
        '05:00': {
            active: false,
            coords: [[19.000701, -99.257771],
                     [20.097711, -98.765963],
                     [19.149019, -98.398359],
                     [19.070194, -98.312194],
                     [19.339047, -99.311145],
                     [19.621561, -99.028279],
                     [19.268795, -98.426636],
                     [19.285980, -99.535486],
                     [19.272074, -99.164133],
                     [19.618818, -99.029462],
                     [19.328695, -99.316525],
                     [20.110082, -99.707318]]
        },
        '06:00': {
            active: false,
            coords: [[19.208939, -99.156051],
                     [19.208939, -99.156051],
                     [19.045834, -99.237450],
                     [19.383143, -99.251604],
                     [19.298065, -99.363665],
                     [19.004177, -98.990124],
                     [19.012645, -99.165276],
                     [19.341353, -98.977462],
                     [19.000701, -99.257771],
                     [19.626987, -99.002749],
                     [19.282041, -99.479647],
                     [19.296361, -98.870726],
                     [19.241098, -98.385680],
                     [19.300094, -99.364321]]
        },
        '07:00': {
            active: false,
            coords: [[19.285975, -99.535484],
                     [19.874227, -98.939687],
                     [19.315100, -98.948066],
                     [19.292671, -98.887006],
                     [19.268795, -98.426636],
                     [19.261877, -98.417232],
                     [19.380296, -99.251564],
                     [19.300093, -99.364328],
                     [19.715358, -99.207587],
                     [19.894149, -98.932590],
                     [20.097711, -98.765963],
                     [19.352690, -98.662334],
                     [19.288180, -99.620753],
                     [19.827126, -98.949639],
                     [19.328107, -98.963436],
                     [19.292671, -98.887006],
                     [19.810332, -99.238285],
                     [19.264330, -98.992458]]
        },
        '08:00': {
            active: false,
            coords: [[19.212871, -99.154000],
                     [19.000701, -99.257771],
                     [19.180614, -99.029583],
                     [20.082506, -99.633397]]
        },
        '09:00': {
            active: false,
            coords: [[19.176102, -98.414584],
                     [19.149019, -98.398359],
                     [19.282041, -99.479647],
                     [19.284219, -99.501616],
                     [19.285980, -99.535486],
                     [19.012645, -99.165276],
                     [19.353200, -98.989213],
                     [19.241098, -98.385680],
                     [19.369482, -99.266289],
                     [19.332891, -99.314468],
                     [19.715358, -99.207587],
                     [19.771930, -98.973089],
                     [19.076136, -98.321470],
                     [19.287777, -99.621628],
                     [19.244733, -99.054638],
                     [19.621537, -99.027993],
                     [19.268795, -98.426636],
                     [19.334761, -99.305911],
                     [19.332891, -99.314468],
                     [19.249559, -98.919883]]
        },
        '10:00': {
            active: false,
            coords: [[18.960593, -99.246178],
                     [19.301537, -98.452771],
                     [19.717969, -98.959972],
                     [19.070194, -98.312194],
                     [19.070194, -98.312194],
                     [20.296103, -99.928994]]
        },
        '11:00': {
            active: false,
            coords: [[18.960593, -99.246177],
                     [19.311358, -98.902086],
                     [19.176102, -98.414584],
                     [19.004177, -98.990124],
                     [18.981718, -99.228770],
                     [19.341353, -98.977462],
                     [20.296103, -99.928994],
                     [19.249557, -98.919890]]
        },
        '12:00': {
            active: false,
            coords: [[19.176102, -98.414584],
                     [19.339049, -99.311147],
                     [19.285618, -99.537483],
                     [19.261877, -98.417232],
                     [19.328695, -99.316525],
                     [19.810332, -99.238285],
                     [19.923818, -98.900435],
                     [19.176102, -98.414584],
                     [19.383145, -99.251605],
                     [19.369482, -99.266289],
                     [19.355872, -99.278155],
                     [19.828322, -99.256350],
                     [20.082498, -99.625571]]
        },
        '13:00': {
            active: false,
            coords: [[19.212871, -99.154000],
                     [19.311154, -98.902078],
                     [19.315826, -98.875366],
                     [19.828322, -99.256350],
                     [19.136727, -98.377548],
                     [19.339047, -99.311145],
                     [19.012645, -99.165276],
                     [19.341243, -98.977095],
                     [19.332891, -99.314468],
                     [19.871246, -99.338734],
                     [20.290245, -99.919140],
                     [20.374166, -99.994876],
                     [20.373663, -99.994771]]
        },
        '14:00': {
            active: false,
            coords: [[18.960593, -99.246177],
                     [19.136727, -98.377548],
                     [19.341243, -98.977095],
                     [19.334761, -99.305911],
                     [19.300094, -99.364321],
                     [19.894149, -98.932589],
                     [19.076136, -98.321470],
                     [19.383143, -99.251604],
                     [19.298067, -99.363668],
                     [19.280368, -99.502211],
                     [19.621561, -99.028279],
                     [19.315100, -98.948066],
                     [19.351218, -98.665568],
                     [19.351363, -98.665659],
                     [19.261877, -98.417232],
                     [19.380296, -99.251564],
                     [19.355908, -99.278160],
                     [19.715358, -99.207587],
                     [20.095078, -99.690686],
                     [19.355452, -99.304607]]
        },
        '15:00': {
            active: false,
            coords: [[19.272075, -99.164133],
                     [19.618818, -99.029462],
                     [19.328107, -98.963436],
                     [19.296361, -98.870726],
                     [19.296361, -98.870726],
                     [19.261877, -98.417232]]
        },
        '16:00': {
            active: false,
            coords: [[19.045834, -99.237450],
                     [19.282393, -99.479651],
                     [19.287777, -99.621628],
                     [19.380331, -99.251606],
                     [19.355872, -99.278155],
                     [19.701265, -98.979789],
                     [19.301537, -98.452771],
                     [19.285618, -99.537483],
                     [19.347177, -98.982897],
                     [19.268795, -98.426636],
                     [20.082473, -99.625609],
                     [20.290613, -99.918781],
                     [20.307607, -99.934151]]
        },
        '17:00': {
            active: false,
            coords: [[19.312168, -98.897250],
                     [19.315714, -98.875350],
                     [18.960593, -99.246177],
                     [19.613699, -99.016522],
                     [19.272027, -98.432210],
                     [18.920742, -98.970910],
                     [19.717969, -98.959972],
                     [19.353200, -98.989213],
                     [19.380331, -99.251606],
                     [19.164685, -99.407235]]
        },
        '18:00': {
            active: false,
            coords: [[19.312168, -98.897250],
                     [19.136727, -98.377548],
                     [19.298067, -99.363668],
                     [18.981718, -99.228770],
                     [19.292671, -98.887006],
                     [19.334787, -99.305920],
                     [19.212871, -99.154000],
                     [19.045834, -99.237450],
                     [19.763771, -98.973455],
                     [19.149019, -98.398359],
                     [19.149019, -98.398359],
                     [19.287773, -99.621637],
                     [18.981718, -99.228770],
                     [19.369430, -99.265998],
                     [20.083211, -99.631376],
                     [19.207251, -99.276504],
                     [19.355452, -99.304607]]
        },
        '19:00': {
            active: false,
            coords: [[19.349331, -98.671068],
                     [19.241966, -99.148261],
                     [19.241966, -99.148261],
                     [19.351363, -98.665659],
                     [19.701265, -98.979789],
                     [20.052690, -98.788675],
                     [19.364795, -99.276354],
                     [19.298065, -99.363665],
                     [19.241966, -99.148261],
                     [19.827116, -98.949481],
                     [19.293915, -98.879315],
                     [19.241098, -98.385680],
                     [19.828321, -99.256350],
                     [20.109429, -99.706474],
                     [19.209485, -98.967245]]
        },
        '20:00': {
            active: false,
            coords: [[19.212871, -99.154000],
                     [19.352690, -98.662334],
                     [19.285617, -99.537475],
                     [19.045175, -98.935533],
                     [19.618818, -99.029462],
                     [19.827126, -98.949639],
                     [19.347177, -98.982897],
                     [19.626979, -99.002613],
                     [19.859553, -98.966984],
                     [19.930734, -98.891515],
                     [19.930734, -98.891515],
                     [20.052690, -98.788675],
                     [19.311154, -98.902078],
                     [19.339049, -99.311147],
                     [19.334787, -99.305920],
                     [19.908041, -99.352534],
                     [19.224694, -98.945188]]
        },
        '21:00': {
            active: false,
            coords: [[19.026940, -99.209632],
                     [19.076136, -98.321470],
                     [19.288180, -99.620753],
                     [19.244733, -99.054638],
                     [19.718043, -98.960155],
                     [19.136727, -98.377548],
                     [19.364793, -99.276356],
                     [19.285617, -99.537475],
                     [19.347288, -98.982819]]
        },
        '22:00': {
            active: false,
            coords: [[18.940673, -98.974914],
                     [19.347288, -98.982819],
                     [19.332891, -99.314468],
                     [19.315826, -98.875366],
                     [19.241966, -99.148261],
                     [19.353900, -98.989572],
                     [20.095296, -99.690372]]
        },
        '23:00': {
            active: false,
            coords: [[19.212871, -99.154000],
                     [19.026940, -99.209632],
                     [19.272027, -98.432210],
                     [19.070194, -98.312194],
                     [19.621537, -99.027993],
                     [19.369430, -99.265998],
                     [19.180614, -99.029583],
                     [19.012645, -99.165276],
                     [19.874227, -98.939687],
                     [19.293913, -98.879308],
                     [19.300093, -99.364328],
                     [19.987090, -99.448827],
                     [20.306878, -99.935062]]
        },
        '24:00': {
            active: false,
            coords: [[18.920742, -98.970910],
                     [19.315225, -98.948595],
                     [19.296361, -98.870726],
                     [19.810332, -99.238285],
                     [19.828321, -99.256350],
                     [19.923818, -98.900435],
                     [19.315714, -98.875350],
                     [18.940673, -98.974914],
                     [19.272075, -99.164133],
                     [19.618818, -99.029462],
                     [19.292671, -98.887006],
                     [19.328774, -99.316528],
                     [19.715358, -99.207587],
                     [19.810332, -99.238285],
                     [19.908041, -99.352534],
                     [19.974998, -99.435909],
                     [19.975213, -99.437025],
                     [19.986814, -99.449027],
                     [19.240542, -98.909124]]
        }
    }
};

if (CURRENT_SELECTION === 'crimen') {
    HEATMAPS = HEATMAPS_CRIMEN;
} else {
    HEATMAPS = HEATMAPS_OPERACION;
}

var initMapHidden = function() {
    MAP_HIDDEN = new google.maps.Map(document.getElementById('map-canvas-hidden'), {
        center: { lat: 24, lng:-102 },
        zoomControl: false,
        styles: MAP_STYLES,
        draggable: false,
        zoom: 5
    });
    addGeographicZones();
    addGeographicLabels();
};

var addGeographicZones = function() {
    addGeographicZone(ZONES.NW);
    addGeographicZone(ZONES.NE);
    addGeographicZone(ZONES.C);
    addGeographicZone(ZONES.SW);
    addGeographicZone(ZONES.SE);
};

var addGeographicLabels = function() {
    addGeographicLabel('NW', 22.5, -120.5);
    addGeographicLabel('NE', 32, -96);
    addGeographicLabel('C', 19, -107.5);
    addGeographicLabel('SW', 14.5, -107);
    addGeographicLabel('SE', 17, -84.5);
};

var addGeographicZone = function(zone) {
    new google.maps.Rectangle({
        map: MAP_HIDDEN,
        strokeColor: 'white',
        strokeOpacity: 0.8,
        strokeWeight: 2,
        fillColor: 'white',
        fillOpacity: 0.1,
        bounds: {
            north: zone.topLeft[0],
            south: zone.bottomRight[0],
            east: zone.bottomRight[1],
            west: zone.topLeft[1]
        }
    });
};

var addGeographicLabel = function(label, lat, lng, size=24) {
    new google.maps.Marker({
        map: MAP_HIDDEN,
        position: new google.maps.LatLng(lat, lng),
        icon: generateTextImage(label, size)
    });
};

var generateTextImage = function(text, size=24) {
    return TextImage({
        font: 'Sans-serif',
        background: 'rgba(0, 0, 0, 0)',
        strokeColor: '#FFFFFF',
        color: '#FFFFFF',
        align: 'right',
        stroke: 0,
        size: size
    }).toDataURL(text);
};
